config:
    name: 教职工考勤管理模块
    variables:
        Protocol: ${ENV(Protocol)}
        host: ${ENV(HOST)}
        domainName: ${ENV(DONAIN_NAME)}
    verify: false
teststeps:
-   name: 园业务_登陆
    testcase: testcases/园业务web/yadongitest.icampus.clife.net_园业务web_登陆.yml
    export: ['token']
-   name: 考勤班次
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            pageIndex: '1'
            pageRows: '20'
        url: $Protocol://$host/v1/web/edugarden/attendance/shift/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤班次详情
    request:
        data:
            shiftId: '18797967310849'
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Length: '22'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: $Protocol://$host
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: POST
        url: $Protocol://$host/v1/web/edugarden/attendance/shift/get
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤班次编辑
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Length: '377'
            Content-Type: application/json
            Host: $host
            Origin: $Protocol://$host
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        json:
            clockOneCurrentMorrow: 1
            clockOneNeed: 1
            clockTimeOne: 08:00:00
            clockTimeOneBegin: 06:00:00
            clockTimeOneEnd: '10:00:00'
            clockType: 1
            closingOneCurrentMorrow: 1
            closingOneNeed: 1
            closingTimeOne: '18:00:00'
            closingTimeOneBegin: '16:00:00'
            closingTimeOneEnd: '20:00:00'
            shiftId: '18797967310849'
            shiftName: 默认班次
            unit1: 1
            unit2: 1
            unit3: 1
            unit4: 1
        method: POST
        url: $Protocol://$host/v1/web/edugarden/attendance/shift/insertOrUpdate
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
    -   eq:
        - body.data
        - 成功
-   name: /v1/web/edugarden/attendance/shift/selectAll
    request:
        data: {}
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Length: '0'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: $Protocol://$host
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: POST
        url: $Protocol://$host/v1/web/edugarden/attendance/shift/selectAll
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/holiday/selectAll
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        url: $Protocol://$host/v1/web/edugarden/holiday/selectAll?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/group/list
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            pageIndex: '1'
            pageRows: '20'
        url: $Protocol://$host/v1/web/edugarden/attendance/group/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/shift/getInUseShift
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            startTime: ${get_date(-12)}
        url: $Protocol://$host/v1/web/edugarden/attendance/shift/getInUseShift
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/statistics/monthDataList
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            pageIndex: '1'
            pageRows: '20'
            startTime: ${get_date(-12)}
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/monthDataList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/statistics/originalRecordList
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            pageIndex: '1'
            pageRows: '20'
            startTime: ${get_date(-12)}
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/originalRecordList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /school/%E5%9B%BE%E7%89%87
    request:
        headers:
            Accept: image/avif,image/webp,image/apng,image/*,*/*;q=0.8
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Host: $host
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
        method: GET
        url: $Protocol://$host/school/%E5%9B%BE%E7%89%87
    validate:
    -   eq:
        - status_code
        - 500
    -   eq:
        - headers.Content-Type
        - text/html
-   name: /v1/web/edugarden/attendance/group/selectAll
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        url: $Protocol://$host/v1/web/edugarden/attendance/group/selectAll?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/group/getAttGroupStaffList
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: $Protocol://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,
                like Gecko) Chrome/86.0.4240.198 Safari/537.36
            X-Access-Token: $token
            X-Requested-With: XMLhttpRequest
            domainName: $domainName
        method: GET
        params:
            groupId: '19095106486273'
            pageIndex: '1'
            pageRows: '20'
        url: $Protocol://$host/v1/web/edugarden/attendance/group/getAttGroupStaffList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
