config:
    name: 园业务web_教职工考勤管理
    variables:
        host: yadong.campus.clife.cn
        donainname: yadong
    verify: false
teststeps:
-   name: 园业务web_登陆
    request:
        data:
            systemCode: garden
            username: ${ENV(GARDEN_USERNAME)}
            password: ${ENV(GARDEN_PASSWORD)}
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '76'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/eduaccount/sys/login
    extract:
        token: body.data.token
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 数据字典-所有字典
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        url: https://$host/v1/web/edumanage/system/allDict?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 省市区级联-根据国家标识获取省份、城市、地区数据
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        url: https://$host/v1/web/edumanage/provincialCascade/all?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 查看教职工信息
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            archivesId: '22034717999105'
            orgId: '6672712597506'
        url: https://$host/v1/web/edudistrict/staff/get
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 登录相关-获取身份列表
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            pageIndex: '1'
            pageRows: '12'
            systemCode: district
        url: https://$host/v1/web/eduaccount/user/identitys
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 登录相关-根据域名获取机构简介
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            domainName: $donainname
        url: https://$host/v1/web/eduaccount/org/getOrgByDomainName
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 工作台-天气
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        url: https://$host/v1/web/edudistrict/works/weather?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 班次管理-班次列表
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            pageIndex: '1'
            pageRows: '20'
        url: https://$host/v1/web/edugarden/attendance/shift/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 班次管理-班次详情
    request:
        data:
            shiftId: '21518604697601'
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '22'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/edugarden/attendance/shift/get
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 班次管理-添加或编辑班次
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '377'
            Content-Type: application/json
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        json:
            clockOneCurrentMorrow: 1
            clockOneNeed: 1
            clockTimeOne: 08:00:00
            clockTimeOneBegin: 06:00:00
            clockTimeOneEnd: '10:00:00'
            clockType: 1
            closingOneCurrentMorrow: 1
            closingOneNeed: 1
            closingTimeOne: '18:00:00'
            closingTimeOneBegin: '16:00:00'
            closingTimeOneEnd: '20:00:00'
            shiftId: '21518604697601'
            shiftName: 默认班次
            unit1: 1
            unit2: 1
            unit3: 1
            unit4: 1
        method: POST
        url: https://$host/v1/web/edugarden/attendance/shift/insertOrUpdate
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
    -   eq:
        - body.data
        - 成功
-   name: 班次管理-获取所有班次
    request:
        data: {}
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '0'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/edugarden/attendance/shift/selectAll
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 节假日设置-获取所有节假日
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        url: https://$host/v1/web/edugarden/holiday/selectAll?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤组管理-考勤组列表
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            pageIndex: '1'
            pageRows: '20'
        url: https://$host/v1/web/edugarden/attendance/group/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤组管理-考勤组详情
    request:
        data:
            groupId: '21523415564289'
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '22'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/edugarden/attendance/group/get
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤组管理-排班列表
    request:
        data:
            groupId: '21523415564289'
            pageIndex: '1'
            pageRows: '10'
            queryMonth: 2021-04
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '65'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/edugarden/attendance/schedules/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤组管理-排班统计
    request:
        data:
            groupId: '21523415564289'
            queryMonth: 2021-04
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Connection: keep-alive
            Content-Length: '41'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: https://$host
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: POST
        url: https://$host/v1/web/edugarden/attendance/schedules/getShiftStatistics
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/shift/getInUseShift
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            endTime: '2021-04-07'
            startTime: '2021-04-01'
        url: https://$host/v1/web/edugarden/attendance/shift/getInUseShift
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤统计-月度数据列表
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            endTime: '2021-04-07'
            pageIndex: '1'
            pageRows: '20'
            startTime: '2021-04-01'
        url: https://$host/v1/web/edugarden/attendance/statistics/monthDataList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤统计-原始记录
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            endTime: '2021-04-07'
            pageIndex: '1'
            pageRows: '20'
            startTime: '2021-04-01'
        url: https://$host/v1/web/edugarden/attendance/statistics/originalRecordList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤组管理-获取所有考勤组
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        url: https://$host/v1/web/edugarden/attendance/group/selectAll?
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: 考勤管理-考勤卡绑定列表
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
            Cache-Control: no-cache
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Pragma: no-cache
            Referer: https://$host/school/
            User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101
                Firefox/86.0
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $donainname
        method: GET
        params:
            groupId: '21523178586113'
            pageIndex: '1'
            pageRows: '20'
        url: https://$host/v1/web/edugarden/attendance/group/getAttGroupStaffList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
