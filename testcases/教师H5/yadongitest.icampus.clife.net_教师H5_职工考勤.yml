config:
    name: testcase description
    variables:
        Protocol: ${ENV(Protocol)}
        host: ${ENV(HOST)}
        domainName: ${ENV(DONAIN_NAME)}
    verify: false
teststeps:
-   name: /v1/web/eduaccount/sys/login
    request:
        data:
            systemCode: h5garden
            password: ${ENV(GARDEN_PASSWORD)}
            username: ${ENV(GARDEN_USERNAME)}
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Length: '78'
            Content-Type: application/x-www-form-urlencoded;charset=UTF-8
            Host: $host
            Origin: $Protocol://$host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: POST
        url: $Protocol://$host/v1/web/eduaccount/sys/login
    extract:
        token: body.data.token
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edudistrict/apps/personal
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            platform: '2'
        url: $Protocol://$host/v1/web/edudistrict/apps/personal
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edumessage/msg/index/list
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            accessType: '1'
            queryNum: '4'
            userType: '1'
        url: $Protocol://$host/v1/web/edumessage/msg/index/list
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/eduaccount/user/h5/identitys
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            showMsgCount: '1'
            systemCode: h5garden
        url: $Protocol://$host/v1/web/eduaccount/user/h5/identitys
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /school/m/static/css/24.cf098998.chunk.css
    request:
        headers:
            Accept: text/css,*/*;q=0.1
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
        method: GET
        url: $Protocol://$host/school/m/static/css/24.cf098998.chunk.css
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - text/css
-   name: /school/m/static/css/143.4c4d8f1e.chunk.css
    request:
        headers:
            Accept: text/css,*/*;q=0.1
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
        method: GET
        url: $Protocol://$host/school/m/static/css/143.4c4d8f1e.chunk.css
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - text/css
-   name: /v1/web/edugarden/attendance/statistics/monthDataList
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            startTime: ${get_date(-12)}
            systemCode: H5
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/monthDataList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/statistics/attendanceDayItem
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            startTime: ${get_date()}
            systemCode: H5
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/attendanceDayItem
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /school/m/static/css/107.14fb9bc1.chunk.css
    request:
        headers:
            Accept: text/css,*/*;q=0.1
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
        method: GET
        url: $Protocol://$host/school/m/static/css/107.14fb9bc1.chunk.css
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - text/css
-   name: /v1/web/edugarden/attendance/statistics/monthDataList
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            startTime: ${get_date(-12)}
            systemCode: H5
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/monthDataList
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/statistics/getAttendanceYearItem
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            systemCode: H5
            year: '2021'
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/getAttendanceYearItem
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0
-   name: /v1/web/edugarden/attendance/statistics/attendanceMonthItem
    variables:
        validnum: [ '1','2','3','4' ]
    request:
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
            Connection: keep-alive
            Content-Type: application/json;charset=utf-8
            Host: $host
            Referer: $Protocol://$host/school/m/
            User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15
                (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
            X-Access-Token: $token
            X-Requested-With: XMLHttpRequest
            domainName: $domainName
        method: GET
        params:
            endTime: ${get_date()}
            startTime: ${get_date(-12)}
            systemCode: H5
            valid: $validnum
        url: $Protocol://$host/v1/web/edugarden/attendance/statistics/attendanceMonthItem
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json;charset=UTF-8
    -   eq:
        - body.code
        - 0